## 代码超长之后自动换行对齐

[highlightjs/highlight.js: Javascript syntax highlighter  ](https://github.com/highlightjs/highlight.js)

### 【方法一】syntaxhighlighter 代码超长之后自动换行对齐(可行.重点)

[syntaxhighlighter 代码超长之后自动换行对齐 - 淘淘IT  ](http://www.taotaoit.com/article/details/316.html)

![](https://img2018.cnblogs.com/blog/1588269/201903/1588269-20190301154609563-1208109696.png)

代码如下：
<pre class="brush:javascript;">
<script type="text/javascript">
    SyntaxHighlighter.defaults['collapse'] = false;
    SyntaxHighlighter.defaults['pad-line-numbers'] = true;
    /*长代码换行行高对应行号*/
    $(window).load(function(){
        $('.code .line').each(function(index){
            var yqhg=$(this).height();
            $('.gutter .line:eq('+index+')').attr('style','height:'+yqhg+'px !important')
        });
    });
</pre>

### 【方法二】syntaxhighlighter 代码超长之后自动换行对齐

![](https://img2018.cnblogs.com/blog/1588269/201903/1588269-20190301155730488-553418084.png)

### 【方法三】SyntaxHighlighter 长代码无法换行解决办法(jquery)

<font size="5" color=red><b>该方法不成功!</b></font>
![](https://img2018.cnblogs.com/blog/1588269/201903/1588269-20190301153053847-1014901505.png)

上图代码如下：
<pre class="brush:css;">
body.syntaxhighlighter.line {
    white-space: pre-wrap!important;
    }
.syntaxhighlighter {
    width: 100 % !important;
    margin: .3em 0 .3em 0!important;
    position: relative!important;
    overflow: auto!important;
    background-color: #f5f5f5!important;
    border: 1 px solid#ccc!important;
    word-break: break-all;
}
</pre>

<pre class="brush:javascript;">
$(function () {
    // Line wrap back 
    var shLineWrap = function () {
        $('.syntaxhighlighter').each(function () {
            // Fetch 
            var $sh = $(this),
                $gutter = $sh.find('td.gutter'),
                $code = $sh.find('td.code');
            // Cycle through lines 
            $gutter.children('.line').each(function (i) {
                // Fetch 
                var $gutterLine = $(this),
                    $codeLine = $code.find('.line:nth-child(' + (i + 1) + ')');
                //alert($gutterLine); 
                // Fetch height 
                var height = $codeLine.height() || 0;
                if (!height) {
                    height = 'auto';
                } else {
                    height = height += 'px';
                    //alert(height); 
                }
                // Copy height over 
                $gutterLine.attr('<SPAN style="WIDTH: auto; HEIGHT: auto; float: none" id=0_nwp><A style="TEXT-DECORATION: none" id=0_nwl href="http://cpro.baidu.com/cpro/ui/uijs.php?rs=1&u=http%3A%2F%2Fwww%2Esuchso%2Ecom%2Fprojecteactual%2Fz%2Dblog%2Djquery%2DSyntaxHighlighter%2Dlongcode%2Ehtml&p=baidu&c=news&n=10&t=tpclicked3_hc&q=95053049_cpr&k=style&k0=%CE%C4%BC%FE%BC%D0&kdi0=32&k1=style&kdi1=1&k2=%B2%A9%BF%CD&kdi2=1&sid=77860fedb9413425&ch=0&tu=u1702844&jk=e7459084404b7b2f&cf=29&fv=15&stid=9&urlid=0&luki=2&seller_id=1&di=128" target=_blank mpid="0"><SPAN style="WIDTH: auto; FLOAT: none; HEIGHT: auto; COLOR: #0000ff; FONT-SIZE: 16px">style</SPAN></A></SPAN>', 'height: ' + height + ' !important'); // fix by Edi, for JQuery 1.7+ under Firefox 15.0 
                console.debug($gutterLine.height(), height, $gutterLine.text(), $codeLine);
            });
        });
    };
    // Line wrap back when syntax highlighter has done it's stuff 
    var shLineWrapWhenReady = function () {
        if ($('.syntaxhighlighter').length === 0) {
            setTimeout(shLineWrapWhenReady, 10);
        } else {
            shLineWrap();
        }
    };
    // Fire 
    shLineWrapWhenReady();
});
</pre>

### 【方法四】SyntaxHighlighter行号显示错误问题解决方案

![](https://img2018.cnblogs.com/blog/1588269/201903/1588269-20190301160505735-1502593878.png)

### 【方法五】JQuery搞定SyntaxHighlighter v3.x长代码自动换行

![](https://img2018.cnblogs.com/blog/1588269/201903/1588269-20190301155437892-1466549917.png)

代码如下：
<pre class="brush:js;">
$(function () {
    // Line wrap back
    var shLineWrap = function () {
        $(&#39;.syntaxhighlighter&#39;).each(function () {
            // Fetch
            var $sh = $(this),
                $gutter = $sh.find(&#39;td.gutter&#39;),
                $code = $sh.find(&#39;td.code&#39;)
                ;
            // Cycle through lines
            $gutter.children(&#39;.line&#39;).each(function (i) {
                // Fetch
                var $gutterLine = $(this),
                    $codeLine = $code.find(&#39;.line:nth-child(&#39; + (i + 1) + &#39;)&#39;)
                    ;
                //alert($gutterLine);
                // Fetch height
                var height = $codeLine.height() || 0;
                if (!height) {
                    height = &#39;auto&#39;;
                }
                else {
                    height = height += &#39;px&#39;;
                    //alert(height);
                }
                // Copy height over
                $gutterLine.attr(&#39;style&#39;, &#39;height: &#39; + height + &#39; !important&#39;); // fix by Edi, for JQuery 1.7+ under Firefox 15.0
                console.debug($gutterLine.height(), height, $gutterLine.text(), $codeLine);
            });
        });
    };

    // Line wrap back when syntax highlighter has done it&#39;s stuff
    var shLineWrapWhenReady = function () {
        if ($(&#39;.syntaxhighlighter&#39;).length === 0) {
            setTimeout(shLineWrapWhenReady, 10);
        }
        else {
            shLineWrap();
        }
    };

    // Fire
    shLineWrapWhenReady();
});
</pre>

[JQuery搞定SyntaxHighlighter v3.x长代码自动换行 行号错乱问题 - 魔酷阁  ](https://www.mokuge.com/webdesign/1335.html)

![](https://img2018.cnblogs.com/blog/1588269/201903/1588269-20190301180454108-361819907.png)

### 后记

<pre class="brush:css;">
.p1{ word-break:break-all; width:150px;}/*只对英文起作用，以字母作为换行依据*/
.p2{ word-wrap:break-word; width:150px;}/*--只对英文起作用，以单词作为换行依据*/
.p3{white-space:pre-wrap; width:150px;}/*只对中文起作用，强制换行*/
.p4{white-space:nowrap; width:10px;}/*强制不换行，都起作用*/
.p5{white-space:nowrap; overflow:hidden; text-overflow:ellipsis; width:100px;}／/*不换行，超出部分隐藏且以省略号形式出现*/
</pre>